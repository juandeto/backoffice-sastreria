---
alwaysApply: true
description: 
globs: **/*
---

- if file writes fail more than once, read the full content of the file into memory again before trying to write
- when in Plan Mode: always include "Do's and Don'ts", relevant code samples, and control flow example mermaid diagrams to help reduce ambiguity in the plan text
- Check if the server is running via cURL before trying to start it yourself.
- Before installing a new dependency, always check against the package manager to find the newest version. Never install stale package versions unless specifically requested by the user or to resolve an incompatibility
- When a document such as a spec or ADR is modified (`docs/*`), add an inline annotation specifying the modification date, the current git user authorizing the modification, and a brief rationale statement.
- when creating a terminal command, always wrap file paths in quotes, e.g. `pnpm test 'app/api/[...path]/route.test.ts'`

## Simulated Subagents

Simulated subagents are specialized AI assistants that can be invoked to handle specific types of tasks. In this case, they can appear as something like custom slash commands simply. Simulated subagents can be called by custom slash commands.

When users call a simulated subagent, it will look for the corresponding markdown file, `.rulesync/subagents/{subagent}.md`, and execute its contents as the block of operations.

For example, if the user instructs `Call planner subagent to plan the refactoring`, you have to look for the markdown file, `.rulesync/subagents/planner.md`, and execute its contents as the block of operations.
